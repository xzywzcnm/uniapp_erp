(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73415237"],{a481:function(t,a,e){"use strict";var i=e("cb7c"),o=e("4bf8"),r=e("9def"),n=e("4588"),s=e("0390"),l=e("5f1b"),c=Math.max,d=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};e("214f")("replace",2,function(t,a,e,h){return[function(i,o){var r=t(this),n=void 0==i?void 0:i[a];return void 0!==n?n.call(i,r,o):e.call(String(r),i,o)},function(t,a){var o=h(e,t,this,a);if(o.done)return o.value;var u=i(t),p=String(this),m="function"===typeof a;m||(a=String(a));var y=u.global;if(y){var v=u.unicode;u.lastIndex=0}var w=[];while(1){var D=l(u,p);if(null===D)break;if(w.push(D),!y)break;var C=String(D[0]);""===C&&(u.lastIndex=s(p,r(u.lastIndex),v))}for(var b="",x=0,S=0;S<w.length;S++){D=w[S];for(var T=String(D[0]),k=c(d(n(D.index),p.length),0),_=[],B=1;B<D.length;B++)_.push(g(D[B]));var M=D.groups;if(m){var N=[T].concat(_,k,p);void 0!==M&&N.push(M);var L=String(a.apply(void 0,N))}else L=f(T,p,k,_,M,a);k>=x&&(b+=p.slice(x,k)+L,x=k+T.length)}return b+p.slice(x)}];function f(t,a,i,r,n,s){var l=i+t.length,c=r.length,d=m;return void 0!==n&&(n=o(n),d=p),e.call(s,d,function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,i);case"'":return a.slice(l);case"<":s=n[o.slice(1,-1)];break;default:var d=+o;if(0===d)return e;if(d>c){var p=u(d/10);return 0===p?e:p<=c?void 0===r[p-1]?o.charAt(1):r[p-1]+o.charAt(1):e}s=r[d-1]}return void 0===s?"":s})}})},fd99:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.wrap},[e("mu-row",{staticClass:"wrapContainer"},[e("mu-col",{attrs:{span:10}},[e("div",{staticClass:"platformSelect"},[e("mu-select",{attrs:{label:"","full-width":""},model:{value:t.selected,callback:function(a){t.selected=a},expression:"selected"}},t._l(t.logisterTotalResult,function(t){return e("mu-option",{attrs:{label:t.carrierName,value:t.carrierId}})}),1)],1),e("mu-row",{staticClass:"dateSelect"},[e("mu-col",{attrs:{span:5}},[e("mu-date-input",{attrs:{"no-display":"",label:"",type:"date",container:"bottomSheet","label-float":"","full-width":""},on:{change:t.getFormDate},model:{value:t.fromDate.fromDate,callback:function(a){t.$set(t.fromDate,"fromDate",a)},expression:"fromDate.fromDate"}})],1),e("mu-col",{staticClass:"dateTo",attrs:{span:2}},[t._v("\n          至\n        ")]),e("mu-col",{attrs:{span:5}},[e("mu-date-input",{attrs:{"no-display":"",label:"",type:"date",container:"bottomSheet","label-float":"","full-width":""},on:{change:t.getToDate},model:{value:t.fromDate.toDate,callback:function(a){t.$set(t.fromDate,"toDate",a)},expression:"fromDate.toDate"}})],1)],1)],1),e("mu-col",{attrs:{span:2}},[e("div",{staticClass:"searchBit",on:{click:t.search}},[e("i",{staticClass:"material-icons"},[t._v("\n        search\n        ")]),e("div",[t._v("查询")])])])],1),e("div",{staticClass:"whiteBgColor detailsPlatformData"},[e("mu-tabs",{staticClass:"whiteBgColor tabContainer",attrs:{value:t.active2,inverse:"",color:"primary","indicator-color":"primary","text-color":"rgba(0, 0, 0, .54)"},on:{"update:value":function(a){t.active2=a}}},[e("mu-tab",[t._v("按物流方式")]),e("mu-tab",[t._v("按日期")])],1)],1),0===t.active2?e("div",{staticClass:"whiteBgColor"},[e("mu-flex",{staticClass:"flex-wrapper nomralPadding",attrs:{"justify-content":"center","align-items":"center"}},[e("mu-data-table",{staticClass:"normalTop tabTable",attrs:{border:"",columns:t.shippingMethodsColumns,sort:t.logistSort,data:t.logisTotalByShippingMethod},on:{"row-click":t.rowClick,"update:sort":function(a){t.logistSort=a}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.shippingMethodName))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.orderNum))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.packageNum))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[e("i",{staticClass:"material-icons grayFontColor"},[t._v("\n            chevron_right\n            ")])])]}}],null,!1,74007222)})],1),e("mu-flex",{staticClass:"flex-wrapper nomralPadding",attrs:{"justify-content":"center","align-items":"center"}},[e("div",{staticStyle:{width:"100%",height:"420px",margin:"0 auto"},attrs:{id:"logisTotalShipping"}})])],1):t._e(),1===t.active2?e("div",{staticClass:"whiteBgColor"},[e("mu-flex",{staticClass:"flex-wrapper nomralPadding",attrs:{"justify-content":"center","align-items":"center"}},[e("mu-data-table",{staticClass:"normalTop tabTable",attrs:{border:"",columns:t.dateColumns,sort:t.platformSort,data:t.logisterByDayArr},on:{"update:sort":function(a){t.platformSort=a}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.date))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.carrierName))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.orderNum)+" ")]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v("\n            "+t._s(a.row.packageNum)+"\n          ")])]}}],null,!1,1059868548)})],1),e("mu-flex",{staticClass:"flex-wrapper nomralPadding",attrs:{"justify-content":"center","align-items":"center"}},[e("div",{staticStyle:{width:"100%",height:"420px",margin:"0 auto"},attrs:{id:"shippingByDate"}})])],1):t._e(),e("mu-dialog",{attrs:{"max-width":"80%",open:t.openSimple,scrollable:"","overlay-close":"","lock-scroll":""},on:{"update:open":function(a){t.openSimple=a}}},[e("mu-flex",{staticClass:"flex-wrapper",attrs:{"justify-content":"center"}},[t._v("\n      查询邮寄方式明细\n    ")]),e("mu-divider"),e("mu-flex",{staticClass:"flex-wrapper normalTop",attrs:{"justify-content":"center","align-items":"center"}},[e("mu-data-table",{staticClass:"salesTotalTable",attrs:{columns:t.dateColumns,sort:t.platformSort,data:t.shippingDetails},on:{"update:sort":function(a){t.platformSort=a}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.date))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.shippingMethodName))]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.orderNum)+" ")]),e("td",{staticClass:"is-center clickRow",attrs:{"data-action":a.row}},[t._v(t._s(a.row.packageNum))])]}}])})],1),e("mu-flex",{staticClass:"flex-wrapper nomralPadding",attrs:{"justify-content":"center","align-items":"center"}},[e("div",{staticStyle:{width:"100%",height:"420px",margin:"0 auto"},attrs:{id:"shippingDetailsChart"}})])],1)],1)},o=[],r=(e("a481"),e("ac6a"),e("4ec3")),n=e("0a8d"),s=e("313e"),l=e.n(s),c="tongtool-analysis-platformWrap",d={mixins:[n["a"]],data:function(){return{openSimple:!1,active2:0,selected:"",fromDate:{fromDate:null,toDate:null},shippingMethodsColumns:[{title:"邮寄方式",width:100,name:"name"},{title:"订单数",name:"orderNum",width:95,align:"center"},{title:"包裹数",name:"amount",width:95,align:"center"},{title:"",name:"",width:60,align:"center"}],logistSort:{name:"",order:"asc"},platformSort:{data:"",order:"asc"},logisTotal:[],logisterTotalResult:null,logisterByDayArr:[],logisTotalByShippingMethod:[],dateColumns:[{title:"日期",width:80,name:"date"},{title:"物流商",name:"num",width:95,align:"center"},{title:"订单数",name:"currencyCode",width:95,align:"center"},{title:"包裹数",name:"amount",width:95,align:"center"}],shippingDetails:[]}},computed:{wrap:function(){return"".concat(c)}},watch:{active2:function(t,a){var e=this;1===t?0===e.logisterByDayArr.length?e.$nextTick(function(){e.getLogisTotalByDay()}):e.$nextTick(function(){e.makeLogisTotalByDayChart()}):e.$nextTick(function(){e.makeLogisterChart()})}},methods:{getFormDate:function(t){var a=this;a.fromDate.fromDate=a.getDateTime(t)},getToDate:function(t){var a=this;a.fromDate.toDate=a.getDateTime(t)},rowClick:function(t,a,e){var i=this;i.shippingDetails=[];var o={url:r["a"].get_shippingMethodTotalByDay,type:"POST",data:{fromDate:i.fromDate.fromDate,toDate:i.fromDate.toDate,shippingMethodId:a.shippingMethodId}};i.ajaxData(o).then(function(t){0===t.data.code&&(i.shippingDetails=t.data.datas,i.openSimple=!0,i.$nextTick(function(){i.makeShippingDetailsChart()}))})},makeShippingDetailsChart:function(){var t=this,a=l.a.init(document.getElementById("shippingDetailsChart"));a.clear();var e=[],i=[],o=[],r=[];t.shippingDetails.forEach(function(t,a){o.push(t.date),e.push(t.orderNum),i.push(t.packageNum)}),console.log("smtList:",o),r.push({name:"订单数",type:"bar",data:e},{name:"包裹数",type:"bar",data:i}),console.log("smtSeriesList:",r),a.setOption({color:["#006699","#4cabce"],title:{text:"按日期物流方式数据图",left:"center",subtext:"左边是订单数，右边包裹数"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{left:"center",width:"90%",top:100,containLabel:!0},legend:{bottom:25,width:"70%",type:"scroll",data:["订单数","包裹数"]},xAxis:[{type:"category",data:o.map(function(t){return t.replace("-","\n")}),axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"数量"}],series:r})},init:function(){var t=this;t.getLogisterTotal(),t.getLogisTotalByShippingMethod()},search:function(){this.getLogisTotalByShippingMethod(),this.getLogisTotalByDay()},getLogisterTotal:function(){var t=this,a={url:r["a"].get_logisTotal,data:{fromDate:t.fromDate.fromDate,toDate:t.fromDate.toDate}};t.ajaxData(a).then(function(a){0===a.data.code&&(t.logisterTotalResult=a.data.datas)})},getLogisTotalByDay:function(){var t=this;t.logisterByDayArr=[];var a={url:r["a"].get_logisTotalByDay,type:"POST",data:{fromDate:t.fromDate.fromDate,toDate:t.fromDate.toDate,carrierId:t.selected}};t.ajaxData(a).then(function(a){0===a.data.code&&(t.logisterByDayArr=a.data.datas,t.makeLogisTotalByDayChart())})},makeLogisTotalByDayChart:function(){var t=this,a=l.a.init(document.getElementById("shippingByDate"));a.clear();var e=[],i=[],o=[],r=[];t.logisterByDayArr.forEach(function(t,a){o.push(t.date),e.push(t.orderNum),i.push(t.packageNum)}),r.push({name:"订单数",type:"bar",data:e},{name:"包裹数",type:"bar",data:i}),a.setOption({title:{text:"物流商报表",left:"center",subtext:"左边是订单数，右边包裹数"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{left:"center",width:"90%",top:100,containLabel:!0},legend:{bottom:25,width:"70%",type:"scroll",data:["订单数","包裹数"]},xAxis:[{type:"category",data:o.map(function(t){return t.replace("-","\n")}),axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"数量"}],series:r})},getLogisTotalByShippingMethod:function(){var t=this,a={url:r["a"].get_logisTotalByShippingMethod,type:"POST",data:{fromDate:t.fromDate.fromDate,toDate:t.fromDate.toDate,carrierId:t.selected}};t.ajaxData(a).then(function(a){0===a.data.code&&(t.logisTotalByShippingMethod=a.data.datas,console.log("logisTotalByShippingMethod:",t.logisTotalByShippingMethod),t.makeLogisterChart())})},makeLogisterChart:function(){var t=this,a=l.a.init(document.getElementById("logisTotalShipping"));a.clear();var e=[],i=[],o=[];t.logisTotalByShippingMethod.forEach(function(t,a){e.push({name:t.shippingMethodName,value:t.orderNum}),i.push({name:t.shippingMethodName,value:t.packageNum}),o.push(t.shippingMethodName)}),a.setOption({title:{top:43,text:"邮寄订单包裹数报表",subtext:"内环订单数，外环包裹数",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}<br/> {c} ({d}%)"},legend:{bottom:25,width:"70%",type:"scroll",data:o},series:[{name:"订单数",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{normal:{show:!1},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},data:e},{name:"包裹数",type:"pie",radius:["40%","55%"],label:{normal:{formatter:"{d}%"}},data:i}]})}},mounted:function(){var t=this;t.fromDate.fromDate=t.getQueryString("startTime"),t.fromDate.toDate=t.getQueryString("endTime"),t.selected=t.getQueryString("carrierId"),t.init()}},u=d,p=e("2877"),m=Object(p["a"])(u,i,o,!1,null,null,null);a["default"]=m.exports}}]);