(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bdacccc"],{"0a8d":function(t,e,a){"use strict";a("3b2b");var n=a("795b"),i=a.n(n),r=a("5176"),s=a.n(r),o=a("f499"),c=a.n(o),l=(a("4917"),navigator.userAgent),u=!!l.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);e["a"]={data:function(){return{ios:u,loading2:!1,baseUrl:"",domWidth:document.documentElement.clientWidth||document.body.clientWidth||0}},computed:{isLogin:function(){return this.$store.state.isLogin}},methods:{getFromDate:function(t){var e=this,a=e.getDateTime(new Date),n=(new Date).getTime()-864e5*t;return n=e.getDateTime(n),console.log(a),console.log(n),{fromDate:n,toDate:a}},back:function(){this.$router.go(-1)},routeTo:function(t){var e=this;e.$router.push(t)},ajaxData:function(t){var e=this,a=t.hasOwnProperty("data")?c()(t.data):{},n={};return t.headers&&(n.headers=s()({},t.headers)),new i.a(function(i){e.axios(s()(n,{method:t.type?t.type:"post",url:t.url,data:a})).then(function(t){console.log(t),i(t)}).catch(function(t){console.log("error:",t)})})},getQueryString:function(t){var e=new RegExp("(^|&?)"+t+"=([^&]*)(&|$)","i"),a=window.location.href.substr(1).match(e);return null!==a?unescape(a[2]):null},getQueryStringTwo:function(t){var e=new RegExp("(^|&?)"+t+"=([^&]*)(&|$)","i"),a=window.location.href.substr(1).match(e);return null!==a?a[2]:null},getQueryStringLink:function(t,e){var a=new RegExp("(^|&?)"+e+"=([^&]*)(&|$)","i"),n=t.substr(1).match(a);return null!==n?unescape(n[2]):null},fullscreen:function(){var t=this.$loading();setTimeout(function(){t.close()},2e3)},getDateTime:function(t,e){var a=new Date(t),n=a.getFullYear(),i=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,r=a.getDate()<10?"0"+a.getDate():a.getDate(),s=a.getHours()<10?"0"+a.getHours():a.getHours(),o=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),c=a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds();return"fulltime"===e?n+"-"+i+"-"+r+" "+s+":"+o+":"+c:n+"-"+i+"-"+r}}}},"28a5":function(t,e,a){"use strict";var n=a("aae3"),i=a("cb7c"),r=a("ebd6"),s=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),g=Math.min,p=[].push,d="split",f="length",h="lastIndex",v=4294967295,k=!u(function(){RegExp(v,"y")});a("214f")("split",2,function(t,e,a,u){var b;return b="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[f]||2!="ab"[d](/(?:ab)*/)[f]||4!="."[d](/(.?)(.?)/)[f]||"."[d](/()()/)[f]>1||""[d](/.?/)[f]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(i,t,e);var r,s,o,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,d=void 0===e?v:e>>>0,k=new RegExp(t.source,u+"g");while(r=l.call(k,i)){if(s=k[h],s>g&&(c.push(i.slice(g,r.index)),r[f]>1&&r.index<i[f]&&p.apply(c,r.slice(1)),o=r[0][f],g=s,c[f]>=d))break;k[h]===r.index&&k[h]++}return g===i[f]?!o&&k.test("")||c.push(""):c.push(i.slice(g)),c[f]>d?c.slice(0,d):c}:"0"[d](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var i=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,i,n):b.call(String(i),a,n)},function(t,e){var n=u(b,t,this,e,b!==a);if(n.done)return n.value;var l=i(t),p=String(this),d=r(l,RegExp),f=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(k?"y":"g"),m=new d(k?l:"^(?:"+l.source+")",h),S=void 0===e?v:e>>>0;if(0===S)return[];if(0===p.length)return null===c(m,p)?[p]:[];var y=0,w=0,T=[];while(w<p.length){m.lastIndex=k?w:0;var C,_=c(m,k?p:p.slice(w));if(null===_||(C=g(o(m.lastIndex+(k?0:w)),p.length))===y)w=s(p,w,f);else{if(T.push(p.slice(y,w)),T.length===S)return T;for(var D=1;D<=_.length-1;D++)if(T.push(_[D]),T.length===S)return T;w=y=C}}return T.push(p.slice(y)),T}]})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"4ec3":function(t,e,a){"use strict";var n="https://mobile-v2.tongtool.com";window.location.href;e["a"]={get_commonLookUP:n+"/api/app/v2/common/lookup?env=dev",get_adList:n+"/api/app/v2/homePage/advs",get_rangeAdList:n+"/api/app/v2/homePage/banners",get_totalSalesCountMes:n+"/api/app/v2/stats/totalByDateRange",get_settingConfig:n+"/api/app/v2/account/getUserEnv",set_settingConfig:n+"/api/app/v2/account/updateUserEnv",get_skuListByPickingListId:n+"/api/app/work/getSkuListByPid",set_newPickingBasket:n+"/api/app/work/addPickingBasket",get_basketList:n+"/api/app/work/getPickingBasketListByPid",set_markFinished:n+"/api/app/work/endPickingByPid",get_skyDetails:n+"/api/app/work/getGoodsDetailBySKU",get_skuInWarehoseStatus:n+"/api/app/work/checkSkuForStockTaking",set_pickingUser:n+"/api/app/work/beginPickingByPid",get_loginInfo:n+"/api/app/v2/account/user/myinfo",set_logout:n+"/api/app/v2/user/logout",get_token:n+"/api/app/v2/auth/ticketToToken/",get_allUserInfo:n+"/api/app/v2/account/merchant/getUserInfos",get_coupons:n+"/api/app/v2/account/merchant/coupons",get_settlements:n+"/api/app/v2/account/merchant/settlements",change_password:n+"/api/app/v2/account/user/changepassword",get_purchaseList:n+"/api/app/v2/work/getPurchaseOrderList",get_purchaseDetailsList:n+"/api/app/v2/work/getPurchaseOrderDetailByPid",get_purchaseDetailsListOperateHistory:n+"/api/app/v2/work/getPurchaseOrd",get_countryTotalSale:n+"/api/app/v2/stats/countryTotal",get_platformTotalSale:n+"/api/app/v2/stats/platformTotal",get_platformTotalByDay:n+"/api/app/v2/stats/platformTotalByDay",get_platformTotalAccount:n+"/api/app/v2/stats/platformTotalByAccount",get_logisTotal:n+"/api/app/v2/stats/logisTotal",get_countryPerDay:n+"/api/app/v2/stats/countryPerDay",get_accountTotalByDay:n+"/api/app/v2/stats/accountTotalByDay",get_logisTotalByShippingMethod:n+"/api/app/v2/stats/logisTotalByShippingMethod",get_logisTotalByDay:n+"/api/app/v2/stats/logisTotalByDay",get_shippingMethodTotalByDay:n+"/api/app/v2/stats/shippingMethodTotalByDay"}},5176:function(t,e,a){t.exports=a("51b6")},"51b6":function(t,e,a){a("a3c3"),t.exports=a("584a").Object.assign},"6f59":function(t,e,a){},"80a1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.wrap},[a("div",{staticClass:"scanArea",attrs:{id:"bcid"}}),a("mu-tabs",{staticClass:"whiteBgColor",attrs:{value:t.current,inverse:"",color:"primary","indicator-color":"primary","text-color":"rgba(0, 0, 0, .54)","full-width":""},on:{"update:value":function(e){t.current=e}}},[a("mu-tab",[t._v("可用盘点库存数("+t._s(t.enableCheck)+")")]),a("mu-tab",[t._v("故障品盘点数("+t._s(t.disableCheck)+")")])],1),a("mu-divider"),0===t.current?a("div",{staticClass:"normalPadding skuDetails"},[a("mu-flex",{staticClass:"flex-wrapper",attrs:{"justify-content":"start"}},[t._v("\n      SKU: "+t._s(t.goodsSku)+"\n    ")]),a("mu-flex",{staticClass:"flex-wrapper",attrs:{"justify-content":"start"}},[t._v("\n      "+t._s(t.productName)+"\n    ")]),a("div",{staticClass:"normalTop"},[a("uni-number-box",{attrs:{min:0,value:t.newEnableCheck,step:1,size:"large"},on:{change:t.getEnableCheck}})],1)],1):t._e(),1===t.current?a("div",{staticClass:"normalPadding skuDetails"},[a("mu-flex",{staticClass:"flex-wrapper",attrs:{"justify-content":"start"}},[t._v("\n      SKU: "+t._s(t.goodsSku)+"\n    ")]),a("mu-flex",{staticClass:"flex-wrapper",attrs:{"justify-content":"start"}},[t._v("\n      "+t._s(t.productName)+"\n    ")]),a("div",{staticClass:"normalTop"},[a("uni-number-box",{attrs:{min:0,value:t.newDisableCheck,step:1,size:"large"},on:{change:t.getDisableCheck}})],1)],1):t._e()],1)},i=[],r=(a("a481"),a("f499")),s=a.n(r),o=(a("ac6a"),a("4ec3"),a("0a8d")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uni-numbox"},[a("div",{staticClass:"uni-numbox-minus",class:{"uni-numbox-disabled":t.disableSubtract},on:{click:function(e){return t._calcValue("subtract")}}},[t._v("-")]),a("input",{staticClass:"uni-numbox-value",class:t.sizeClass,attrs:{type:"number",disabled:t.disabled},domProps:{value:t.inputValue},on:{blur:t._onBlur}}),a("div",{staticClass:"uni-numbox-plus",class:{"uni-numbox-disabled":t.disableAdd},on:{click:function(e){return t._calcValue("add")}}},[t._v("+")])])},l=[],u=(a("28a5"),a("c5f6"),{name:"uni-number-box",props:{value:{type:Number,default:0},min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},size:{type:String,default:"small"}},data:function(){return{inputValue:this.value}},computed:{disableSubtract:function(){return this.value<=this.min},disableAdd:function(){return this.value>=this.max},sizeClass:function(){if("small"!==this.size)return"bigSize"}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("change",t)}},methods:{_calcValue:function(t){var e=this._getDecimalScale(),a=this.inputValue*e,n=this.step*e;"subtract"===t?a-=n:"add"===t&&(a+=n),a<this.min||a>this.max||(this.inputValue=a/e)},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var e=t.detail.value;e?(e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min),this.inputValue=e):this.inputValue=0}}}),g=u,p=(a("8319"),a("2877")),d=Object(p["a"])(g,c,l,!1,null,null,null),f=d.exports,h="tongtool-workspace-inventoryDetails",v=null,k={mixins:[o["a"]],data:function(){return{newEnableCheck:0,newDisableCheck:0,current:0,enableCheck:0,disableCheck:0,goodsSku:null,warehouseId:null,stockTakingCode:null,productName:null,cacheEnableNum:0,cacheDisableNum:0,stockTakingDetailId:null,storageArr:[],hasEnableCheck:0,hasDisableCheck:0,stockTalkingId:null}},components:{uniNumberBox:f},computed:{wrap:function(){return"".concat(h)}},methods:{getEnableCheck:function(t){var e=this;t?(e.cacheEnableNum=t,e.newEnableCheck=t,e.setInventoryStorage()):e.newEnableCheck=e.cacheEnableNum},getDisableCheck:function(t){var e=this;t?(e.cacheDisableNum=t,e.newDisableCheck=t):e.newDisableCheck=e.cacheDisableNum,e.setInventoryStorage()},setInventoryStorage:function(){var t=this,e=t.storageArr;if(e.length>0){var a=!1,n=[];e.forEach(function(e,n){e.goodsSku===t.goodsSku&&(e.availableStockTakingQuantity=t.newEnableCheck,e.defectsStockTakingQuantity=t.newDisableCheck,a=!0)}),console.log("status:",a),a||(n=[{stockTakingDetailId:t.stockTakingDetailId,availableStockTakingQuantity:t.newEnableCheck,defectsStockTakingQuantity:t.newDisableCheck}],e=e.concat(n))}else e=[{stockTakingDetailId:t.stockTakingDetailId,availableStockTakingQuantity:t.newEnableCheck,defectsStockTakingQuantity:t.newDisableCheck}];console.log("arr:",e),localStorage.setItem("inventoryDetails_"+t.stockTalkingId,s()(e));var i=t.getQueryStringTwo("stockTalkingId"),r=JSON.parse(localStorage.getItem("inventoryDetails_"+i));r&&r.length>0&&uni.postMessage({data:{datas:r,stockTalkingId:i}})},startScan:function(){v.start()},closeScan:function(){v.close()},cancelScan:function(){v.cancel()}},created:function(){var t=this;v=null,t.enableCheck=t.getQueryStringTwo("enableCheck"),t.disableCheck=t.getQueryStringTwo("disableCheck"),t.newEnableCheck=t.getQueryStringTwo("hasEnableCheck"),t.newDisableCheck=t.getQueryStringTwo("hasDisableCheck"),t.goodsSku=decodeURI(t.getQueryStringTwo("goodsSku")),t.warehouseId=t.getQueryStringTwo("warehouseId"),t.stockTakingCode=t.getQueryStringTwo("stockTakingCode"),t.productName=decodeURI(t.getQueryStringTwo("productName")),t.stockTakingDetailId=t.getQueryStringTwo("stockTakingDetailId"),t.stockTalkingId=t.getQueryStringTwo("stockTalkingId"),t.getQueryStringTwo("stockTalkingId");var e=JSON.parse(localStorage.getItem("inventoryDetails_"+t.stockTalkingId));e&&(t.storageArr=e,e.forEach(function(e,a){e.goodsSku===t.goodsSku&&(t.newEnableCheck=e.availableStockTakingQuantity,t.newDisableCheck=e.defectsStockTakingQuantity)}));var a=[plus.barcode.CODE128,plus.barcode.QR,plus.barcode.EAN13];v=new plus.barcode.create("bcid",a,{height:"300px",width:"100%",top:0,left:0,position:"static"}),v.onmarked=function(e,a,n){if(a=a.replace(/\n/g,""),console.log(a),a!==t.goodsSku)return t.$toast.error("条形码不匹配"),t.cancelScan(),setTimeout(function(){t.startScan()},2e3),!1;0===t.current?t.newEnableCheck++:t.newDisableCheck++,t.setInventoryStorage(),setTimeout(function(){t.startScan()},2e3)},plus.webview.currentWebview().append(v),t.startScan()}},b=k,m=Object(p["a"])(b,n,i,!1,null,null,null);e["default"]=m.exports},8319:function(t,e,a){"use strict";var n=a("6f59"),i=a.n(n);i.a},9306:function(t,e,a){"use strict";var n=a("c3a1"),i=a("9aa9"),r=a("355d"),s=a("241e"),o=a("335c"),c=Object.assign;t.exports=!c||a("294c")(function(){var t={},e={},a=Symbol(),n="abcdefghijklmnopqrst";return t[a]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[a]||Object.keys(c({},e)).join("")!=n})?function(t,e){var a=s(t),c=arguments.length,l=1,u=i.f,g=r.f;while(c>l){var p,d=o(arguments[l++]),f=u?n(d).concat(u(d)):n(d),h=f.length,v=0;while(h>v)g.call(d,p=f[v++])&&(a[p]=d[p])}return a}:c},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a21f:function(t,e,a){var n=a("584a"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},a3c3:function(t,e,a){var n=a("63b6");n(n.S+n.F,"Object",{assign:a("9306")})},a481:function(t,e,a){"use strict";var n=a("cb7c"),i=a("4bf8"),r=a("9def"),s=a("4588"),o=a("0390"),c=a("5f1b"),l=Math.max,u=Math.min,g=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,function(t,e,a,h){return[function(n,i){var r=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,r,i):a.call(String(r),n,i)},function(t,e){var i=h(a,t,this,e);if(i.done)return i.value;var g=n(t),p=String(this),d="function"===typeof e;d||(e=String(e));var k=g.global;if(k){var b=g.unicode;g.lastIndex=0}var m=[];while(1){var S=c(g,p);if(null===S)break;if(m.push(S),!k)break;var y=String(S[0]);""===y&&(g.lastIndex=o(p,r(g.lastIndex),b))}for(var w="",T=0,C=0;C<m.length;C++){S=m[C];for(var _=String(S[0]),D=l(u(s(S.index),p.length),0),x=[],I=1;I<S.length;I++)x.push(f(S[I]));var E=S.groups;if(d){var L=[_].concat(x,D,p);void 0!==E&&L.push(E);var N=String(e.apply(void 0,L))}else N=v(_,p,D,x,E,e);D>=T&&(w+=p.slice(T,D)+N,T=D+_.length)}return w+p.slice(T)}];function v(t,e,n,r,s,o){var c=n+t.length,l=r.length,u=d;return void 0!==s&&(s=i(s),u=p),a.call(o,u,function(a,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":o=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return a;if(u>l){var p=g(u/10);return 0===p?a:p<=l?void 0===r[p-1]?i.charAt(1):r[p-1]+i.charAt(1):a}o=r[u-1]}return void 0===o?"":o})}})},aa77:function(t,e,a){var n=a("5ca1"),i=a("be13"),r=a("79e5"),s=a("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),g=function(t,e,a){var i={},o=r(function(){return!!s[t]()||c[t]()!=c}),l=i[t]=o?e(p):s[t];a&&(i[a]=l),n(n.P+n.F*o,"String",i)},p=g.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=g},ac6a:function(t,e,a){for(var n=a("cadf"),i=a("0d58"),r=a("2aba"),s=a("7726"),o=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),g=l("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(d),h=0;h<f.length;h++){var v,k=f[h],b=d[k],m=s[k],S=m&&m.prototype;if(S&&(S[u]||o(S,u,p),S[g]||o(S,g,k),c[k]=p,b))for(v in n)S[v]||r(S,v,n[v],!0)}},c5f6:function(t,e,a){"use strict";var n=a("7726"),i=a("69a8"),r=a("2d95"),s=a("5dbc"),o=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,g=a("86cc").f,p=a("aa77").trim,d="Number",f=n[d],h=f,v=f.prototype,k=r(a("2aeb")(v))==d,b="trim"in String.prototype,m=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var a,n,i,r=e.charCodeAt(0);if(43===r||45===r){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>i)return NaN;return parseInt(c,n)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof f&&(k?c(function(){v.valueOf.call(a)}):r(a)!=d)?s(new h(m(e)),a,f):m(e)};for(var S,y=a("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)i(h,S=y[w])&&!i(f,S)&&g(f,S,u(h,S));f.prototype=v,v.constructor=f,a("2aba")(n,d,f)}},f499:function(t,e,a){t.exports=a("a21f")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);